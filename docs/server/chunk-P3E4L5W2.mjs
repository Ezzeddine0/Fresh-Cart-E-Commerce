import './polyfills.server.mjs';
import{a as q}from"./chunk-DOWFZRFL.mjs";import{a as G}from"./chunk-FQMAR4HG.mjs";import{a as z}from"./chunk-ZOQKYF4G.mjs";import{a as N,b as U,c as Y}from"./chunk-WUCSCCS5.mjs";import{a as $}from"./chunk-7HE5MFKJ.mjs";import{a as K}from"./chunk-DEXJ2UMT.mjs";import{a as J}from"./chunk-GCNPNJLI.mjs";import{a as A}from"./chunk-J22WE2WV.mjs";import"./chunk-J4BDXTMW.mjs";import{a as B,c as I,e as R,j as V}from"./chunk-TQFFRULN.mjs";import"./chunk-EF2HFKWS.mjs";import{e as j}from"./chunk-CESV4JBY.mjs";import"./chunk-P6M526BC.mjs";import{Db as c,Eb as u,Fb as M,Hb as E,Ib as F,Ja as C,Jb as W,Lb as O,Mb as D,Na as s,Qb as h,Rb as k,Sb as y,V as d,Z as P,cb as x,eb as m,fb as L,ha as _,ia as f,kb as S,lb as b,mb as r,nb as o,ob as a,rb as T,tb as w,ub as p,zc as H}from"./chunk-VSZ2F6JD.mjs";import"./chunk-VVCT4QZE.mjs";var Q=(i,l)=>l._id,X=(i,l)=>l.id,Z=i=>["/details",i];function ee(i,l){i&1&&a(0,"img",13)}function te(i,l){i&1&&a(0,"img",14)}function ie(i,l){i&1&&a(0,"img",15)}function re(i,l){if(i&1&&(r(0,"div"),a(1,"img",16),r(2,"h3",17),c(3),o()()),i&2){let e=p().$implicit;s(),m("src",e.image,C)("alt",e.name),s(2),u(e.name)}}function oe(i,l){i&1&&x(0,re,4,3,"ng-template",4)}function ne(i,l){if(i&1){let e=T();r(0,"div",12)(1,"div",18)(2,"div",19),w("click",function(){let n=_(e).$implicit,g=p();return f(g.addRemoveWish(n.id))}),a(3,"i",20),o(),r(4,"div",21),a(5,"img",22),r(6,"h5",23),c(7),h(8,"termtext"),o(),r(9,"h5",24),c(10),o(),r(11,"div",25)(12,"span"),c(13),h(14,"currency"),o(),r(15,"div")(16,"span"),a(17,"i",26),o(),r(18,"span",27),c(19),o()()()(),r(20,"div",28)(21,"button",29),w("click",function(){let n=_(e).$implicit,g=p();return f(g.addtoCart(n.id))}),c(22," Add to cart "),o()(),r(23,"div",30)(24,"button")(25,"span"),a(26,"i",31),o()(),r(27,"button")(28,"span"),c(29,"1"),o()(),r(30,"button")(31,"span"),a(32,"i",32),o()()()()()}if(i&2){let e=l.$implicit,t=p();s(2),L("color",t.wishListProducts.includes(e.id)?"red":"black"),m("id","wishListDiv-"+e.id),s(2),m("routerLink",D(16,Z,e.id)),s(),m("src",e.imageCover,C)("alt",e.title),s(2),M(" ",k(8,11,e.title)," "),s(3),u(e.category.name),s(3),u(y(14,13,e.price,"GBP")),s(6),u(e.ratingsAverage),s(2),m("disabled",t.loadingForadd)}}var we=(()=>{class i{constructor(){this._ProductsService=d($),this._CategoryService=d(z),this._CartService=d(A),this._ToastrService=d(J),this._WishListService=d(K),this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1},this.customOptionsCategories={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:3},740:{items:4},940:{items:6}},nav:!1},this.searchWord="",this.products=[],this.categories=[],this.wishListProducts=[],this.loadingForadd=!1}ngOnInit(){this._CartService.getUserCart().subscribe({next:e=>{console.log(e.data),this.cart=e.data},error:e=>{console.log(`error cart : ${e}`)}}),this.getAllProductSubscribe=this._ProductsService.getAllProducts().subscribe({next:e=>{this.products=e.data,console.log(this.products)},error:e=>{console.log(e)}}),this.getAllCategories=this._CategoryService.getAllCategories().subscribe({next:e=>{this.categories=e.data,console.log(this.categories)},error:e=>{console.log(e)}}),this._WishListService.getWishList().subscribe({next:e=>{console.log(e),this.wishListProducts=e.data.map(t=>t._id);for(let t=0;t<this.wishListProducts.length;t++){let n=document.getElementById(`wishListDiv-${this.wishListProducts[t]}`);n.style.color="red"}}})}addtoCart(e){this.loadingForadd=!0,this._CartService.addtoCart(e).subscribe({next:t=>{this._CartService.cartNumber.next(t.numOfCartItems),this._ToastrService.success(t.message,"Fresh Cart"),console.log(t),this.loadingForadd=!1},error:t=>{console.log(t),this.loadingForadd=!1}})}addRemoveWish(e){this.wishListProducts.includes(e)?this._WishListService.removeWishList(e).subscribe({next:t=>{this.wishListProducts=this.wishListProducts.filter(n=>n!==e),this._ToastrService.success(t.message,"Fresh Cart")},error:t=>{this._ToastrService.error(t.error.message,"Fresh Cart")}}):this._WishListService.addWishList(e).subscribe({next:t=>{this.wishListProducts.push(e),this._ToastrService.success(t.message,"Fresh Cart")},error:t=>{this._ToastrService.error(t.error.message,"Fresh Cart")}})}ngOnDestroy(){this.getAllProductSubscribe?.unsubscribe(),this.getAllProductSubscribe?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=P({type:i,selectors:[["app-home"]],standalone:!0,features:[O],decls:28,vars:6,consts:[[1,"container-fluid","px-4"],[1,"row","g-0"],[1,"col-md-9"],[3,"options"],["carouselSlide",""],[1,"col-md-3"],["height","200px","src","/assets/images/slider-2.jpeg","alt","",1,"w-100"],["height","200px","src","/assets/images/blog-img-2.jpeg","alt","",1,"w-100"],[1,"my-2"],[1,"text-main"],["placeholder","search","type","text",1,"form-control","w-50","mx-auto","my-2","mb-4",3,"ngModelChange","ngModel"],[1,"row","g-3"],[1,"col-lg-2","col-md-3","col-sm-4"],["height","400px","src","/assets/images/mainBanner.jpg","alt","",1,"w-100"],["height","400px","src","/assets/images/adidasBanner.jpg","alt","",1,"w-100"],["height","400px","src","/assets/images/lorealBanner.jpj.webp","alt","",1,"w-100"],["height","250px",1,"w-100",3,"src","alt"],[1,"h6","text-main","text-center"],[1,"product","p-4"],[1,"wishListDiv","position-relative","cr",3,"click","id"],[1,"fa-solid","fa-heart"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"h5","text-nowrap","overflow-hidden","mt-2"],[1,"small","text-main"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fas","fa-star","rating-color"],[1,"muted"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn-main","mt-4","w-75",3,"click","disabled"],[1,"mt-4","mx-auto","d-none","d-flex","justify-content-between","align-items-center","addRemove","w-50","p-2"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-trash"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"section")(2,"div",1)(3,"div",2)(4,"div")(5,"owl-carousel-o",3),x(6,ee,1,0,"ng-template",4)(7,te,1,0,"ng-template",4)(8,ie,1,0,"ng-template",4),o()()(),r(9,"div",5)(10,"div"),a(11,"img",6)(12,"img",7),o()()()(),r(13,"section")(14,"section",8)(15,"h2",9),c(16,"Popular Categories"),o(),r(17,"owl-carousel-o",3),S(18,oe,1,0,null,4,Q),o()()(),r(20,"section")(21,"h2",9),c(22,"Popular Products"),o(),r(23,"input",10),W("ngModelChange",function(v){return F(n.searchWord,v)||(n.searchWord=v),v}),o(),r(24,"div",11),S(25,ne,33,18,"div",12,X),h(27,"search"),o()()()),t&2&&(s(5),m("options",n.customOptionsMain),s(12),m("options",n.customOptionsCategories),s(),b(n.categories),s(5),E("ngModel",n.searchWord),s(2),b(y(27,3,n.products.slice(0,12),n.searchWord)))},dependencies:[Y,U,N,j,H,G,q,V,B,I,R],styles:["h5[_ngcontent-%COMP%]{text-overflow:ellipsis}.product[_ngcontent-%COMP%]{cursor:pointer}.product[_ngcontent-%COMP%]   .btn-main[_ngcontent-%COMP%]{transform:translateY(160%);transition:transform .7s}.product[_ngcontent-%COMP%]:hover   .btn-main[_ngcontent-%COMP%]{transform:translateY(0)}.addRemove[_ngcontent-%COMP%]{background-color:var(--main-color)}.addRemove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.wishListDiv[_ngcontent-%COMP%]{font-size:20px}"]})}}return i})();export{we as HomeComponent};
